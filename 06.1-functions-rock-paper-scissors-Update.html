<!DOCTYPE html>
<html>
  <head>
    <title>RPS</title>
  </head>

  <body>
    <p> Rock Paper Scissors</p>
<button onclick="
 
 playGame('rock');

">Rock</button>


<button onclick="
  
  playGame('paper');

">Paper</button>


<button onclick="

  playGame('scissors');

">Scissors</button>

<button onclick="
  score.wins=0;
  score.losses=0;
  score.ties=0;
  localStorage.removeItem('score');
  alert(`SCORE RESET!\nWins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);
">Reset score</button>

    <script>

      let score =JSON.parse(localStorage.getItem('score')) || {
        wins: 0,
        losses: 0,
        ties:0
      };
      /*
      if(score===null){ //ili !score
        score = {
          wins: 0,
          losses: 0,
          ties:0
        };
      }
       */     
      function pickComputerMove(){
        let randNmbr = Math.random();

        if(randNmbr>=0 && randNmbr < 1/3){
          return 'rock';
        }
        else if (randNmbr >= 1/3 && randNmbr <2/3){
          return 'paper';
        }
        else if(randNmbr>= 2/3 && randNmbr<1){
          return 'scissors';
        }
        
      }

      function playGame(playerMove){
        const compMove = pickComputerMove();
        let result='';

        if(playerMove === 'rock'){
          if(compMove === 'rock'){
            result = 'Tie!';
            score.ties++;
          }
          else if(compMove === 'paper'){
            result = 'You lose!';
            score.losses++; 
          }
          else if(compMove === 'scissors'){
            result = 'You win!';
            score.wins++;
          }
        }
        else if (playerMove=='paper'){
          if(compMove === 'rock'){
            result = 'You win!';
            score.wins++;
          }
          else if(compMove === 'paper'){
            result = 'Tie!'; 
            score.ties++;
          }
          else if(compMove === 'scissors'){
            result = 'You lose!';
            score.losses++;
          }
        }
        else if(playerMove=='scissors'){
          if(compMove === 'rock'){
            result = 'You lose!';
            score.losses++;
          }
          else if(compMove === 'paper'){
            result = 'You win!'; 
            score.wins++;
          }
          else if(compMove === 'scissors'){
            result = 'Tie!';
            score.ties++;
          }
        }

        localStorage.setItem('score', JSON.stringify(score));

        alert(`You picked ${playerMove}. Computer picked ${compMove}. ${result}\nWins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);
      }

    </script>
  </body>

</html>